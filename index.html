<!DOCTYPE html>
<html lang = "en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE-edge">
        <meta name="viewport" content="width=device-width", initial-scale="1.0">
        <title>Cuddlesmith</title>
        <link rel = "stylesheet" href="style.css">
        <script src="https://kit.fontawesome.com/18933f7f73.js" crossorigin="anonymous"></script>
    </head>
    <body>
        <!-- Floating Banner for Art of Gathering Workshop -->
        <!--
        <div id="aog-banner" style="
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: #BA0018;
            color: white;
            text-align: center;
            padding: 0.25rem;
            font-family: Book Antiqua;
            font-size: 1rem;
            z-index: 9999;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            ">
            <strong>The Art of Vulnerability Workshop - Whidbey Island, WA - Sept. 10-12</strong> |
            <a href="/TheArtOfVulnerability.html" style="color: white; text-decoration: underline; font-weight: bold;">
                Learn More →
            </a> 

            <span onclick="document.getElementById('aog-banner').style.display='none';" 
                style="margin-left: 1rem; cursor: pointer; font-weight: bold;">✕</span>
        </div>
-->
        <div id = 'header'>
            <nav class="site-nav">
                <div class="nav-container">
                    <div class="nav-logo-section">
                        <a class="nav-logo" href="index.html" aria-label="Cuddlesmith Home">
                            <img src="images/Logo.png" alt="Cuddlesmith logo">
                        </a>
                    </div>
                    <button class="hamburger-menu" onclick="openmenu()" aria-label="Open navigation menu">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="menu-overlay" id="menu-overlay" onclick="closemenu()"></div>
                    <ul id="sidemenu">
                        <li><a href="index.html" onclick="closemenu()">Home</a></li>
                        <li><a href="#about" onclick="closemenu()">About</a></li>
                        <li><a href="#portfolio" onclick="closemenu()">Events</a></li>
                        <li><a href="#services" onclick="closemenu()">Offerings</a></li>
                        <li><a href="#cuddler" onclick="closemenu()">Julian</a></li>
                        <li><a href="FAQ.html" onclick="closemenu()">FAQ</a></li>
                        <li><a href="#contact" onclick="closemenu()">Contact</a></li>
                        <button class="close-menu" onclick="closemenu()" aria-label="Close navigation menu">
                            <i class="fas fa-times"></i>
                        </button>
                    </ul>
                </div>
            </nav>
        </div>
        <!-- ------------about----------- -->
        <div id="about">
            <div class="container">
                <div class="row">
                    <div class="about-col-1">
                        <img src="images/Embrace.png">
                    </div>
                    <div class="about-col-2">
                        <h1 class="sub-title">About <br><span>CuddleSmith</span></h1>
                        <p class="about-tagline">Physical and emotional connection crafted for you.</p>
                        <div class="tab-titles">
                            <p class="tab-links active-link" onclick="opentab('skills')">Core Practice</p>
                            <p class="tab-links" onclick="opentab('experience')">Core Values</p>
                            <p class="tab-links" onclick="opentab('oncuddlesmith')">On "CuddleSmith"</p>
                        </div>
                        <div class="tab-contents active-tab" id="skills">
                            <p>Supporting discovery, pleasure, and integration of experience.<br><br>
                            Seeking support and expertise as you navigate growth, healing, and inner clarity takes courage. In session, we slow down and create space for noticing, choice, and embodied presence.<br><br>
                            My approach draws on a broad range of training and experience, creating a process that is adaptable to different needs, contexts, and ways of learning. It often strengthens a person's capacity for intimacy, clear communication, and integrity—both with themselves and with others.
                            </p>
                        </div>
                        <div class="tab-contents" id="experience">
                            <ul>
                                <li><span>Consent-Based</span><br>Every interaction is built on clear communication, explicit boundaries, and mutual respect. Your comfort and autonomy are always prioritized.</li>
                                <li><span>Scientifically Grounded</span><br>Our approach is informed by research on touch, oxytocin, stress regulation, and social connection. <a href="research.html" style="color: var(--purple-accent); text-decoration: underline;">Learn more about the science</a>.</li>
                                <li><span>Client-Directed</span><br>Your needs, preferences, and pace guide each session. This work is fully personal and adaptable to what supports your process.</li>
                                <li><span>Embodied Presence</span><br>We slow down and create space for noticing, choice, and embodied awareness—helping you connect more deeply with yourself and others.</li>
                                <li><span>Inclusive & Welcoming</span><br>We create a space that values diversity and ensures everyone feels seen, heard, and valued regardless of background or identity.</li>
                            </ul>
                        </div>
                        <div class="tab-contents" id="oncuddlesmith">
                            <p><span>On "CuddleSmith"</span><br>
                            The name "CuddleSmith" is a playful blend of craft and care. Like a blacksmith shapes metal, a CuddleSmith shapes connection—through warmth, presence, and skillful, consent-based touch. The name honors the artistry and intentionality that goes into creating safe, nurturing, and transformative cuddle experiences. It’s about forging bonds, softening hearts, and celebrating the human need for comfort and belonging.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<!-- -----------Services--------- -->
        <div id="services">
            <div class="container">
                <h1 class="sub-title">Offerings</h1>
                <div class="services-list">
                    <a href="individual-cuddles.html" class="service-card-link">
                        <div>
                            <i class="fa-solid fa-user"></i>
                            <h2>Individual Cuddles</h2>
                            <p>One-on-one sessions focused on nurturing, consent-based touch and presence. Experience deep relaxation, connection, and support in a safe, non-judgmental space.</p>
                        </div>
                    </a>
                    <a href="group-cuddles.html" class="service-card-link">
                        <div>
                            <i class="fa-solid fa-users"></i>
                            <h2>Facilitated Group Cuddles</h2>
                            <p>Guided group experiences that foster connection, communication, and community. Learn about boundaries, consent, and the power of platonic touch in a supportive group setting.</p>
                        </div>
                    </a>
                    <a href="inverted-fire.html" class="service-card-link">
                        <div>
                            <i class="fa-solid fa-fire"></i>
                            <h2>Inverted Fire Cuddles</h2>
                            <p>A unique, playful, and transformative group cuddle experience inspired by the element of fire. Explore new ways of connecting, releasing, and igniting joy through creative touch and movement.</p>
                        </div>
                    </a>
                </div>
            </div>
        </div>
<!-- ------------cuddler----------- -->
        <div id="cuddler">
            <div class="container">
                <h1 class="sub-title">Julian</h1>
                <div class="row" style="justify-content: center;">
                    <div class="fac-col-1" style="margin: 0 auto; float: none;">
                        <img src="images/headshot.png">
                        <div class="tab-titles">
                            <p class="tab-links active-link" onclick="opentab('J-bio')">About</p>
                            <p class="tab-links" onclick="opentab('J-specialization')">Specializations</p>
                            <p class="tab-links" onclick="opentab('J-education')">Education/Experience</p>
                        </div>
                        <div class="tab-contents active-tab" id="J-bio">
                            <p>My background spans academic research, somatic practice, and relational work. I earned a PhD in physics with a focus on neuroscience and published over a dozen peer-reviewed papers.<br><br>
                            For more than a decade, I have facilitated cuddle sessions and studied consent-based touch, somatic awareness, and interpersonal dynamics. I completed formal training as a psychedelic facilitator, which deepened my understanding of preparation, integration, and the role of embodiment in meaningful inner work. Advanced professional training with the Wheel of Consent further shaped my orientation toward vulnerability, noticing, and choice.<br><br>
                            I bring the same rigor, curiosity, and ethical attention from my academic and experiential background into this work. My approach emphasizes embodiment, noticing, and reflection as tools for personal growth and transformation, drawing on a wide range of perspectives to meet each client's unique needs.
                            </p>
                        </div>
                        <div class="tab-contents" id="J-specialization">
                            <div class="tab-titles" style="margin-top: 20px;">
                                <p class="tab-links active-link" onclick="openNestedTab('J-relational', this)">Relational Architect</p>
                                <p class="tab-links" onclick="openNestedTab('J-energetic', this)">Adaptive Touch</p>
                                <p class="tab-links" onclick="openNestedTab('J-psychedelic', this)">Psychedelic Preparation/Integration</p>
                            </div>
                            <div class="tab-contents active-tab" id="J-relational">
                                <p>I work as a relational architect, creating both physical and metaphorical containers that support safety, exploration, and transformation. The physical container includes the space itself—thoughtfully arranged, comfortable, and conducive to presence. The metaphorical container encompasses the agreements, boundaries, and structures we co-create together. This includes clear communication about limits and desires, explicit consent practices, and frameworks that allow for authentic expression while maintaining safety. These containers become the foundation where vulnerability can flourish, where you can explore your wants and limits with curiosity rather than fear. Through this architectural approach, we build structures that support not just individual sessions, but lasting patterns of connection, communication, and integrity in your relationships.
                                </p>
                            </div>
                            <div class="tab-contents" id="J-energetic">
                                <p>I'm experienced in many forms of touch—from gentle holding to more active pressure, from stillness to movement. I adapt my approach to what feels right for you in each moment. Touch is a fundamental way we connect with ourselves and others, and through somatically grounded practices, we explore how sensation becomes a source of pleasure and connection. This work supports sensuality, generosity, and integrity in how you relate to yourself and others.
                                </p>
                            </div>
                            <div class="tab-contents" id="J-psychedelic">
                                <p>I specialize in psychedelic preparation and integration, helping you cultivate somatic awareness, clarify intentions, and translate experiences into daily life. Sessions can include exploring pleasure, attending to sensation, reflecting on experience, or simply being present—whatever supports your process. This work fosters grounding, self-trust, and insight, and is fully personal and client-directed.
                                </p>
                            </div>
                        </div>
                        <div class="tab-contents" id="J-education">
                            <ul>
                                <li><span>2025</span><br>Working with Groups: By the School of Consent</li>
                                <li><span>2023-2024</span><br>Psilocybin Facilitator Training: Synaptic</li>
                                <li><span>2024</span><br>10-day silent Vipassana Meditation Course</li>
                                <li><span>2023</span><br>Like a Pro (Wheel of Consent)</li>
                                <li><span>2023</span><br>Cuddlist Training</li>
                                <li><span>2020</span><br>Physics PhD with Neuroscience Focus: Dissertation</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<!-- ------------testimonials----------- -->
<div id="testimonials">
    <div class="container">
        <h1 class="sub-title">Testimonials</h1>
        <div class="testimonials-carousel-wrapper">
            <button class="carousel-btn carousel-btn-prev" onclick="moveCarousel(-1)">
                <i class="fas fa-chevron-left"></i>
            </button>
            <div class="testimonials-carousel">
                <div class="testimonials-track" id="testimonials-track">
                    <div class="testimonial-box">
                        <div class="quote">
                            "I was able to enjoy the physical touch with a depth of safety, tenderness and all around comfort which I have seldom been able to find, even with romantic partners."
                        </div>
                    </div>
                    <div class="testimonial-box">
                        <div class="quote">
                            "Cuddling sessions with Julian have done more for my mental health than most of the talk therapy or meds that I've taken in my life"
                        </div>
                    </div>
                    <div class="testimonial-box">
                        <div class="quote">
                            "Julian has a talent for touch! I was a little nervous for my first cuddle session, but Julian was nothing but professional and affirming."
                        </div>
                    </div>
                    <div class="testimonial-box">
                        <div class="quote">
                            "Julian creates a space that is welcoming and accepting in a way that's really healing."
                        </div>
                    </div>
                    <div class="testimonial-box">
                        <div class="quote">
                            "I felt very supported both emotionally and physically."
                        </div>
                    </div>
                    <div class="testimonial-box">
                        <div class="quote">
                            "In addition to receiving some skillful cuddles, I was also encouraged to explore my own needs throughout the session. I even had a synesthetic experience once I was able to fully let go."
                        </div>
                    </div>
                    <div class="testimonial-box">
                        <div class="quote">
                            "My session with Julian was my first time doing a professional cuddle session. He helped me feel safe throughout this new experience and empowered me to really vocalize my own comfort needs and desires throughout the session."
                        </div>
                    </div>
                    <div class="testimonial-box">
                        <div class="quote">
                            "Mmmmmm"
                        </div>
                    </div>
                    <div class="testimonial-box">
                        <div class="quote">
                            "You have really soft skin"
                        </div>
                    </div>
                    <div class="testimonial-box">
                        <div class="quote">
                            "You're the best person I've ever touched"
                        </div>
                    </div>
                </div>
            </div>
            <button class="carousel-btn carousel-btn-next" onclick="moveCarousel(1)">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
        <div class="carousel-dots" id="carousel-dots">
            <!-- Dots will be generated by JavaScript -->
        </div>
    </div>
</div>
<!-- -------------portfolio------ -->
<div id="portfolio">
    <div class="container">
        <h1 class="sub-title">Upcoming Events</h1>
        <div class="work-list featured">
            <div class="work">
                <img id="randomCommunityImage" src="images/Fire.png">
                <div class="layer">
                    <h3>Community Cuddle</h3>
                    <p id="event-container"></p>
                    <p id="time-container"></p>
                    <p>Private residence</p>
                    <div class="info-icon" onclick="window.location.href='community-cuddle.html'">
                        <i class="fa-solid fa-circle-info"></i>
                    </div>
                </div>
            </div>
        </div>
        <a href="#embedded-calendar" class="btn">See Calendar</a>
    </div>
</div>
<!-- -----------Contact----------     -->
        <div id="contact">
            <div class="container">
                <div class="row">
                    <div class="contact-left">
                        <h1 class="sub-title">Contact</h1>
                        <p><i class="fa-solid fa-paper-plane"></i> julian@cuddlesmith.com</p>
                        <p><i class="fa-solid fa-phone"></i> 206-414-8134</p>
                        <div class="social-icons">
                            <!-- <a href="https://facebook.com"><i class="fa-brands fa-facebook"></i></a> -->
                            <!-- <a href=""><i class="fa-brands fa-twitter-square"></i></a> -->
                            <!-- <a href=""><i class="fa-brands fa-instagram"></i></a> -->
                            <!-- <a href=""><i class="fa-brands fa-linkedin"></i></a> -->
                        </div>
                        <!-- <a href="images/CV.pdf" download class="btn btn2">Download CV</a> -->
                    </div>
                    <div class="contact-right">
                        <form name="submit-to-google-sheet">
                            <input type="text" name="Name" placeholder="Your Name" required>
                            <input type="email" name="Email" placeholder="Your Email" required>
                            <input type="tel" name="Phone" placeholder="Your Phone">
                            <input type="text" name="Subscribe" placeholder="Subscribe to our mailing list?">
                            <textarea name="Message" rows="6" placeholder="Your Message"></textarea>
                            <button type="submit" class="btn btn2">Submit</button>
                        </form>
                        <span id="msg"></span>
                    </div>
                </div>
            </div>
        </div>
 
    <script>
        var tablinks = document.getElementsByClassName("tab-links");
        var tabcontents = document.getElementsByClassName("tab-contents");
        
        function opentab(tabname) {
            // Find the closest facilitator column (either fac-col-1, fac-col-2, etc.) of the clicked tab link
            const parentContainer = event.currentTarget.closest('.about-col-2, .fac-col-1, .fac-col-2');
        
            // Deselect all tab links and hide all tab contents within this specific container
            const tabLinks = parentContainer.querySelectorAll('.tab-links');
            const tabContents = parentContainer.querySelectorAll('.tab-contents');
            
            tabLinks.forEach(tabLink => tabLink.classList.remove('active-link'));
            tabContents.forEach(tabContent => tabContent.classList.remove('active-tab'));
        
            // Activate the clicked tab link and corresponding tab content
            event.currentTarget.classList.add('active-link');
            parentContainer.querySelector(`#${tabname}`).classList.add('active-tab');
            
            // If opening Specializations tab, automatically open the first nested tab
            if (tabname === 'J-specialization') {
                const specializationContainer = document.getElementById('J-specialization');
                const firstNestedTab = specializationContainer.querySelector('#J-relational');
                const firstNestedLink = specializationContainer.querySelector('.tab-links');
                
                if (firstNestedTab && firstNestedLink) {
                    // Reset all nested tabs
                    const nestedTabLinks = specializationContainer.querySelectorAll('.tab-links');
                    const nestedTabContents = specializationContainer.querySelectorAll('.tab-contents');
                    
                    nestedTabLinks.forEach(tabLink => tabLink.classList.remove('active-link'));
                    nestedTabContents.forEach(tabContent => tabContent.classList.remove('active-tab'));
                    
                    // Activate first nested tab
                    firstNestedLink.classList.add('active-link');
                    firstNestedTab.classList.add('active-tab');
                }
            }
        }
        
        function openNestedTab(tabname, element) {
            // Find the J-specialization container
            const specializationContainer = document.getElementById('J-specialization');
            
            // Deselect all nested tab links and hide all nested tab contents
            const nestedTabLinks = specializationContainer.querySelectorAll('.tab-links');
            const nestedTabContents = specializationContainer.querySelectorAll('.tab-contents');
            
            nestedTabLinks.forEach(tabLink => tabLink.classList.remove('active-link'));
            nestedTabContents.forEach(tabContent => tabContent.classList.remove('active-tab'));
        
            // Activate the clicked nested tab link and corresponding tab content
            element.classList.add('active-link');
            specializationContainer.querySelector(`#${tabname}`).classList.add('active-tab');
        }
    </script>
    
    <script>
        var sidemenu =  document.getElementById("sidemenu");

        function openmenu(){
            var sidemenu = document.getElementById('sidemenu');
            var overlay = document.getElementById('menu-overlay');
            sidemenu.classList.add('active');
            overlay.classList.add('active');
        }
        function closemenu(){
            var sidemenu = document.getElementById('sidemenu');
            var overlay = document.getElementById('menu-overlay');
            sidemenu.classList.remove('active');
            overlay.classList.remove('active');
        }
    </script>
<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbw6y3Qxi2D9P10MSsStIpOe4T0bXo8Ghwoinmemi216l117w9Cj_VgobvtH8Ie3Tb8/exec';
    const form = document.forms['submit-to-google-sheet'];
    const msg = document.getElementById("msg");
    const submitButton = document.querySelector('.btn2'); // Change this to select your submit button

    form.addEventListener('submit', e => {
        e.preventDefault();
        
        // Change button text to indicate submission
        submitButton.innerHTML = "Submitting...";
        submitButton.disabled = true; // Disable the button to prevent multiple submissions

        // Immediately submit the form data
        fetch(scriptURL, { method: 'POST', body: new FormData(form) })
            .then(response => {
                msg.innerHTML = "Message sent successfully. We'll be getting back to you shortly! <br>Add julian@cuddlesmith.com to your contact list. Sometimes your email services thinks we're spam!";
                // Keep the message visible for a longer duration (e.g., 5000 ms)
                setTimeout(function() {
                    msg.innerHTML = ""; // Clear message after the specified duration
                }, 10000); // Change 5000 to your desired duration

                // Immediately reset the form and button
                form.reset(); // Reset the form
                submitButton.innerHTML = "Submit"; // Reset button text
                submitButton.disabled = false; // Re-enable the button
            })
            .catch(error => {
                console.error('Error!', error.message);
                msg.innerHTML = "Error sending message. Please try again.";
                
                // Reset button text and enable it again after error
                submitButton.innerHTML = "Submit"; // Reset button text
                submitButton.disabled = false; // Re-enable the button
            });
    });
</script>
<script src="config.js"></script>
<script>
async function fetchRecurringEventDates() {
    const calendarId = CONFIG.calendarId; 
    const apiKey = CONFIG.googleCalendarApiKey;
    const url = `https://www.googleapis.com/calendar/v3/calendars/${calendarId}/events?key=${apiKey}&singleEvents=true&orderBy=startTime`;

    try {
        const response = await fetch(url);
        const data = await response.json();

        const now = new Date();
        const eventName = "community cuddle"; // Filter events by this title (case-insensitive)
        const events = data.items
            .filter(event => (event.summary || '').toLowerCase().includes(eventName) && new Date(event.start.dateTime || event.start.date) > now)
            .sort((a,b) => new Date(a.start.dateTime || a.start.date) - new Date(b.start.dateTime || b.start.date));

        if (!events.length) {
            document.getElementById('event-container').innerText = "No upcoming events";
            document.getElementById('time-container').innerText = "";
            return;
        }

        const first = events[0];
        const rawStart = first.start?.dateTime || first.start?.date;
        const rawEnd = first.end?.dateTime || first.end?.date;

        // Date
        const startDateObj = new Date(rawStart);
        const dateString = startDateObj.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });

        // Time
        let timeString = "";
        if (!first.start?.dateTime || !first.end?.dateTime) {
            timeString = "All day";
        } else {
            const startObj = new Date(first.start.dateTime);
            const endObj = new Date(first.end.dateTime);

            const formatTime = (d) => d.toLocaleTimeString('en-US', {
                hour: 'numeric',
                minute: '2-digit',
                hour12: true
            });

            timeString = `${formatTime(startObj)} – ${formatTime(endObj)}`;
        }

        // Display the strings in the HTML page (only the next event)
        document.getElementById('event-container').innerText = dateString;
        document.getElementById('time-container').innerText = timeString;

    } catch (error) {
        console.error("Error fetching data:", error);
    }
}

window.onload = fetchRecurringEventDates;
</script>

<script>
// Testimonials Carousel - Move one item at a time
(function() {
    'use strict';
    
    let currentIndex = 0;
    const itemsPerView = 3;
    let isAnimating = false;
    
    const track = document.getElementById('testimonials-track');
    const carousel = document.querySelector('.testimonials-carousel');
    const testimonials = document.querySelectorAll('.testimonial-box');
    const totalItems = testimonials.length;
    
    function getItemWidth() {
        if (!carousel || !testimonials.length) return 0;
        const carouselWidth = carousel.offsetWidth;
        const gap = 30; // gap between items
        return (carouselWidth - (gap * (itemsPerView - 1))) / itemsPerView + gap;
    }
    
    function updateCarousel(instant = false) {
        if (!track || !carousel) return;
        
        // Don't allow scrolling past the point where we can show 3 items
        const maxIndex = Math.max(0, totalItems - itemsPerView);
        
        // Infinite loop - wrap around smoothly
        if (currentIndex < 0) {
            currentIndex = maxIndex;
        } else if (currentIndex > maxIndex) {
            currentIndex = 0;
        }
        
        const itemWidth = getItemWidth();
        const translateX = -currentIndex * itemWidth;
        
        if (instant) {
            track.style.transition = 'none';
        } else {
            track.style.transition = 'transform 0.5s ease';
        }
        
        track.style.transform = `translateX(${translateX}px)`;
        
        // Update dots based on which "page" we're on (every 3 items)
        const dots = document.querySelectorAll('.dot');
        const totalPages = Math.ceil(totalItems / itemsPerView);
        const currentPage = Math.min(Math.floor(currentIndex / itemsPerView), totalPages - 1);
        dots.forEach((dot, index) => {
            if (index < totalPages) {
                dot.classList.toggle('active', index === currentPage);
            }
        });
        
        if (instant) {
            setTimeout(() => {
                track.style.transition = 'transform 0.5s ease';
            }, 50);
        }
    }
    
    function moveCarousel(direction) {
        if (isAnimating) return;
        
        isAnimating = true;
        const maxIndex = Math.max(0, totalItems - itemsPerView);
        
        currentIndex += direction;
        
        // If we've gone past the end, loop to beginning
        if (currentIndex > maxIndex) {
            currentIndex = 0;
        } else if (currentIndex < 0) {
            currentIndex = maxIndex;
        }
        
        updateCarousel();
        
        setTimeout(() => {
            isAnimating = false;
        }, 500);
    }
    
    function goToSlide(pageIndex) {
        if (isAnimating) return;
        
        isAnimating = true;
        currentIndex = pageIndex * itemsPerView;
        updateCarousel();
        
        setTimeout(() => {
            isAnimating = false;
        }, 500);
    }
    
    function initDots() {
        const dotsContainer = document.getElementById('carousel-dots');
        if (!dotsContainer) return;
        
        dotsContainer.innerHTML = '';
        const totalPages = Math.ceil(totalItems / itemsPerView);
        
        for (let i = 0; i < totalPages; i++) {
            const dot = document.createElement('span');
            dot.className = 'dot' + (i === 0 ? ' active' : '');
            dot.addEventListener('click', () => goToSlide(i));
            dotsContainer.appendChild(dot);
        }
    }
    
    // Initialize
    function init() {
        initDots();
        updateCarousel(true);
        
        // Make functions globally accessible
        window.moveCarousel = moveCarousel;
        window.goToSlide = goToSlide;
    }
    
    // Wait for DOM and layout
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(init, 100);
        });
    } else {
        setTimeout(init, 100);
    }
    
    // Handle resize
    let resizeTimer;
    window.addEventListener('resize', () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
            currentIndex = 0;
            initDots();
            updateCarousel(true);
        }, 250);
    });
})();
</script>

<!-- Embedded Calendar -->
<div id="embedded-calendar" class="container" style="padding-bottom:60px;">
    <h1 class="sub-title">Calendar</h1>
    <div style="position:relative;padding-top:10px;">
        <iframe 
            src="https://calendar.google.com/calendar/embed?src=e98c8cdd52ee5115c60ad53513496e3495da75b3595e14730a4e295bc17a908d@group.calendar.google.com&ctz=America/Los_Angeles" 
            style="border: 1px solid var(--highlight-color); width: 100%; height: 700px; border-radius: 12px; box-shadow: 0 8px 28px rgba(0,0,0,0.08);" 
            frameborder="0" 
            scrolling="no"></iframe>
    </div>
</div>

<script>
    // Single hero image for upcoming event
    const communityImages = [
        'images/Fire.png'
    ];


    // Force the single image on load
    function setCommunityImage() {
        const imageElement = document.getElementById('randomCommunityImage');
        if (imageElement) {
            imageElement.src = communityImages[0];
        }
    }

    window.addEventListener('load', setCommunityImage);
</script>

    <div class="copyright">
        <p>Copyright Cuddlesmith. Made with <i class="fa-solid fa-heart"></i></p>
    </div>
    
    </body>

</html>